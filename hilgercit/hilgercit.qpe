{
  "js": "const months = ['Jan', 'Feb', 'March', 'April', 'May', 'June', 'July', 'Aug', 'Sep', 'Nov', 'Dec']\nconst copyBtn = '';\nfunction generateMLACitation({\n    authors = [],\n    title = '',\n    container = '',\n    otherContributors = [],\n    version = '',\n    number = '',\n    publisher = '',\n    publicationDate = '',\n    location = '',\n    accessDate = ''\n}) {\n    let citation = `${copyBtn}`;\n\n    // 1. Authors\n    if (authors.length > 0) {\n        if (authors.length === 1) {\n            citation += `${authors[0].lastName}, ${authors[0].firstName}. `;\n        } else if (authors.length === 2) {\n            citation += `${authors[0].lastName}, ${authors[0].firstName}, and ${authors[1].firstName} ${authors[1].lastName}. `;\n        } else {\n            citation += `${authors[0].lastName}, ${authors[0].firstName}, et al. `;\n        }\n    }\n\n    // 2. Title\n    if (title) {\n        citation += `<i>${title}</i>`;\n    }\n\n    // 3. Container (for articles and websites)\n    if (container) {\n        citation += `, ${container}`;\n    }\n\n    // 4. Other Contributors\n    if (otherContributors.length > 0) {\n        const contributorsText = otherContributors\n            .map(c => `${c.role} ${c.firstName} ${c.lastName}`)\n            .join(', ');\n        citation += `, ${contributorsText}`;\n    }\n\n    // 5. Version\n    if (version) {\n        citation += `, ${version}`;\n    }\n\n    // 6. Number (volume/issue)\n    if (number) {\n        citation += `, ${number}`;\n    }\n\n    // 7. Publisher\n    if (publisher) {\n        citation += `, ${publisher}`;\n    }\n\n    // 8. Publication Date\n    if (publicationDate) {\n        citation += `, ${publicationDate}`;\n    }\n\n    // 9. Location\n    if (location) {\n        citation += `, ${location}`;\n    }\n\n    // 10. Access Date (for websites)\n    if (accessDate) {\n        citation += `. Accessed ${accessDate}`;\n    }\n\n    // Ensure citation ends with a period\n    if (!citation.endsWith('.')) {\n        citation += '.';\n    }\n\n    return citation;\n}\n\n// Functions to show/hide appropriate fields\nfunction setBook() {\n    document.getElementById('containerDiv').style.display = 'none';\n    document.getElementById('accessDate').style.display = 'none';\n    document.getElementById('location').style.display = 'block';\n}\nfunction setAutomatic() {\n    var autoURL = prompt(\"Website URL (or Cancel)\");\n    fetch(\"https://hilgercit-api.gavingogaming.workers.dev/?url=\"+autoURL)\n        .then(data => data.json())\n        .then(data => {\n            var meta = data.metadata;\n            setWebsite();\n            document.querySelectorAll('.input-container').forEach(i => i.remove());\n            if(meta.title) {\n                document.querySelector('#titleInput').value = meta.title;\n            }\n            if(meta.author) {\n                addAuthor(meta.author, \"\");\n            }\n            if(meta.publisher) {\n                document.querySelector('#publisherInput').value = meta.publisher;\n            }\n            if(meta.lastModified) {\n                var lmf = meta.lastModified.split(':')[0];\n                document.querySelector('#publicationDateInput').value = lmf.substr(0,lmf.length - 3).replaceAll(',','');\n            }\n            if(meta.publishDate) {\n                document.querySelector('#publicationDateInput').value = meta.publishDate;\n            }\n            if(meta.url) {\n                document.querySelector('#locationInput').value = meta.url;\n            }\n            if(meta.siteName) {\n                document.querySelector('#containerInput').value = meta.siteName;\n            }\n            var date = new Date(Date.now());\n            document.querySelector('#accessDateInput').value = `${months[date.getMonth()]} ${date.getDate()} ${date.getFullYear()}`;\n        });\n}\nfunction setSweetgrass() {\n    setBook();\n    document.querySelectorAll('.input-container').forEach(i=>i.remove());\n    addAuthor(\"Robin Wall\", \"Kimmerer\");\n    addAuthor(\"Monique Gray\", \"Smith\");\n    document.querySelector('#titleInput').value = \"Braiding Sweetgrass for Young Adults\";\n    document.querySelector('#publisherInput').value = \"Lerner Publishing Group\";\n    document.querySelector('#publicationDateInput').value = \"1 Nov 2022\";\n}\n\nfunction setArticle() {\n    document.getElementById('containerDiv').style.display = 'block';\n    document.getElementById('accessDate').style.display = 'none';\n    document.getElementById('location').style.display = 'block';\n}\n\nfunction setWebsite() {\n    document.getElementById('containerDiv').style.display = 'block';\n    document.getElementById('accessDate').style.display = 'block';\n    document.getElementById('location').style.display = 'block';\n}\n\n// Function to add author fields\nfunction addAuthor(first=\"\", last=\"\") {\n    const authorDiv = document.createElement('div');\n    authorDiv.className = 'author input-container';\n    authorDiv.innerHTML = `\n        <input type=\"text\"${first != \"\" ? \" value=\\\"\"+first+\"\\\"\" : \"\"} class=\"firstName\" placeholder=\"First name\">\n        <input type=\"text\"${last != \"\" ? \" value=\\\"\" + last + \"\\\"\" : \"\"} class=\"lastName\" placeholder=\"Last name\">\n        <button onclick=\"this.parentElement.remove()\">X</button>\n    `;\n    document.getElementById('authorsList').appendChild(authorDiv);\n}\n\n// Function to add contributor fields\nfunction addContributor() {\n    const contributorDiv = document.createElement('div');\n    contributorDiv.className = 'contributor input-container';\n    contributorDiv.innerHTML = `\n        <input type=\"text\" class=\"role\" placeholder=\"Role (e.g., translated by)\">\n        <input type=\"text\" class=\"firstName\" placeholder=\"First name\">\n        <input type=\"text\" class=\"lastName\" placeholder=\"Last name\">\n        <button onclick=\"this.parentElement.remove()\">Remove</button>\n    `;\n    document.getElementById('contributorsList').appendChild(contributorDiv);\n}\n\n// Function to collect all form data\nfunction collectFormData() {\n    const authors = Array.from(document.querySelectorAll('#authorsList .author')).map(authorDiv => ({\n        firstName: authorDiv.querySelector('.firstName').value,\n        lastName: authorDiv.querySelector('.lastName').value\n    }));\n\n    const otherContributors = Array.from(document.querySelectorAll('#contributorsList .contributor')).map(contributorDiv => ({\n        role: contributorDiv.querySelector('.role').value,\n        firstName: contributorDiv.querySelector('.firstName').value,\n        lastName: contributorDiv.querySelector('.lastName').value\n    }));\n\n    return {\n        authors: authors,\n        title: document.getElementById('titleInput').value,\n        container: document.getElementById('containerInput').value,\n        otherContributors: otherContributors,\n        version: document.getElementById('versionInput').value,\n        number: document.getElementById('numberInput').value,\n        publisher: document.getElementById('publisherInput').value,\n        publicationDate: document.getElementById('publicationDateInput').value,\n        location: document.getElementById('locationInput').value,\n        accessDate: document.getElementById('accessDateInput').value\n    };\n}\n\n// Add event listener to generate button\ndocument.querySelector('#generate button').addEventListener('click', () => {\n    const formData = collectFormData();\n    const citation = generateMLACitation(formData);\n    document.getElementById('result').innerHTML = citation;\n});\n\n// Initialize with book type\nsetBook();\n\ndocument.querySelector('.copy-button').addEventListener('click', async () => {\n    const type = 'text/html';\n    const blob = new Blob([document.getElementById('result').innerHTML.replace(copyBtn, '')], { type });\n    const data = [new ClipboardItem({ [type]: blob })];\n    await navigator.clipboard.write(data);\n    document.querySelector('.copy-button').classList.add('active');\n    setTimeout(() => { document.querySelector('.copy-button').classList.remove('active') }, 400);\n})\ndocument.querySelector('.copy-button-no-format').addEventListener('click', async () => {\n    navigator.clipboard.writeText(document.getElementById('result').textContent);\n    document.querySelector('.copy-button-no-format').classList.add('active');\n    setTimeout(() => { document.querySelector('.copy-button-no-format').classList.remove('active') }, 400);\n})",
  "css": "/* Import Inter font */\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n@import url('https://site-assets.fontawesome.com/releases/v6.6.0/css/all.css');\n\n/* Base styles */\n:root {\n    --background: #121212;\n    --surface: #1e1e1e;\n    --primary: #bb86fc;\n    --secondary: #03dac6;\n    --error: #cf6679;\n    --text-primary: rgba(255, 255, 255, 0.87);\n    --text-secondary: rgba(255, 255, 255, 0.6);\n    --border: rgba(255, 255, 255, 0.12);\n}\n\n/* Global styles */\nbody {\n    font-family: 'Inter', system-ui, -apple-system, sans-serif;\n    background-color: var(--background);\n    color: var(--text-primary);\n    line-height: 1.5;\n    margin: 0;\n    padding: 0;\n    align-items: center;\n    justify-content: center;\n    display: flex;\n    flex-direction: column;\n}\n\n/* Typography */\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    color: var(--text-primary);\n    font-weight: 600;\n}\n\np {\n    color: var(--text-secondary);\n}\n\n/* Links */\na {\n    color: var(--primary);\n    text-decoration: none;\n    transition: opacity 0.2s ease;\n}\n\na:hover {\n    opacity: 0.8;\n}\n\n/* Buttons */\nbutton,\n.button {\n    font-family: 'Inter', sans-serif;\n    background-color: var(--primary);\n    color: var(--background);\n    border: none;\n    border-radius: 4px;\n    padding: 8px 16px;\n    font-size: 14px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n}\n\nbutton:hover,\n.button:hover {\n    opacity: 0.9;\n    transform: translateY(-1px);\n}\n\nbutton:disabled,\n.button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n/* Inputs */\ninput[type=\"text\"],\ninput[type=\"email\"],\ninput[type=\"password\"],\ninput[type=\"number\"],\ntextarea,\ndiv.faketextarea {\n    font-family: 'Inter', sans-serif;\n    background-color: var(--surface);\n    color: var(--text-primary);\n    border: 1px solid var(--border);\n    border-radius: 4px;\n    padding: 8px 12px;\n    font-size: 14px;\n    transition: border-color 0.2s ease;\n    width: 100%;\n    box-sizing: border-box;\n}\ndiv.faketextarea {\n    height: 60px;\n}\n\ninput:focus,\ntextarea:focus {\n    outline: none;\n    border-color: var(--primary);\n}\n\n/* Checkboxes */\ninput[type=\"checkbox\"] {\n    appearance: none;\n    width: 18px;\n    height: 18px;\n    border: 2px solid var(--border);\n    border-radius: 3px;\n    background-color: var(--surface);\n    cursor: pointer;\n    position: relative;\n    vertical-align: middle;\n}\n\ninput[type=\"checkbox\"]:checked {\n    background-color: var(--primary);\n    border-color: var(--primary);\n}\n\ninput[type=\"checkbox\"]:checked::after {\n    content: \"✓\";\n    position: absolute;\n    color: var(--background);\n    font-size: 14px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n/* Select */\nselect {\n    font-family: 'Inter', sans-serif;\n    background-color: var(--surface);\n    color: var(--text-primary);\n    border: 1px solid var(--border);\n    border-radius: 4px;\n    padding: 8px 12px;\n    font-size: 14px;\n    cursor: pointer;\n    width: 100%;\n}\n\n/* Radio buttons */\ninput[type=\"radio\"] {\n    appearance: none;\n    width: 18px;\n    height: 18px;\n    border: 2px solid var(--border);\n    border-radius: 50%;\n    background-color: var(--surface);\n    cursor: pointer;\n    position: relative;\n    vertical-align: middle;\n}\n\ninput[type=\"radio\"]:checked {\n    border-color: var(--primary);\n}\n\ninput[type=\"radio\"]:checked::after {\n    content: \"\";\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background-color: var(--primary);\n    border-radius: 50%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n/* Focus styles */\n:focus-visible {\n    outline: 2px solid var(--primary);\n    outline-offset: 2px;\n}\n.header {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 5px;\n    height: 40px;\n    background: #222;\n    border-bottom: 1px solid var(--border);\n}\n.content {\n    width: 100%;\n    max-width: 800px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    padding: 18px;\n    box-sizing: border-box;\n    gap: 2px;\n}\n.content > div {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap: 4px;\n    border-bottom: 1px solid var(--border);\n    padding: 4px 0;\n    box-sizing: border-box;\n}\nh3 {\n    margin: 0;\n    width: 100%;\n}\n#opt {\n    display: flex;\n    justify-content: space-evenly;\n    gap: 4px;\n}\n#opt button {\n    width: 100%;\n}\n\n#authorsList {\n    gap: 2px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n}\n.input-container {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 5px;\n    width: 100%;\n}\n.split {\n    width: 1px;\n    height: 60%;\n    margin: 0 4px;\n    background: var(--border);\n}\n\n.no-border {\n    border: 0 !important;\n    border-left: 0 !important;\n    border-bottom: 0 !important;\n    border-top: 0 !important;\n    border-right: 0 !important;\n}\n.multi-btn {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n.copy-button, .copy-button-no-format {\n    min-width: 20px;\n    padding: 0 2px;\n    height: 25px;\n    background: #222;\n    border: 1px solid var(--border);\n    display: inline-flex;\n    margin-right: 2px;\n    align-items: center;\n    justify-content: center;\n    border-radius: 8px;\n    font-size: 14px;\n    cursor: pointer;\n    gap: 8px;\n    transition: background 0.2s;\n}\n.copy-button:hover, .copy-button-no-format:hover {\n    background: #333;\n}\n.active {\n    background: #488600 !important;\n}\n.faketextarea:hover, .copy-button:hover, .copy-button-no-format:hover {\n    outline: none;\n    border-color: var(--primary);\n}\n\n.button-split {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.button-split .left-button {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    height: 100%;\n}\n.button-split .right-button {\n    border-top-left-radius: 0;\n    color: white;height: 100%;\n    border: 1px solid var(--border);\n    border-left: none;\n    background: #783ac4;\n    border-bottom-left-radius: 0;\n}",
  "html": "<div class=\"header\"><b>HilgerCIT</b>\n<div class=\"split\"></div>\n<i>Ad-free citation maker for MLA 8</i></div>\n\n<div class=\"content\">\n<div id=\"opt-section\" class=\"no-border\">\n    <h3>Media Type</h3>\n    <div id=\"opt\">\n        <button onclick=\"setBook()\"><i class=\"fa-solid fa-book\"></i> Book</button>\n        <button onclick=\"setArticle()\"><i class=\"fa-solid fa-newspaper\"></i> Article</button>\n        <div class=\"button-split\">\n            <button onclick=\"setWebsite()\" class=\"left-button\"><i class=\"fa-solid fa-globe\"></i> Website</button>\n            <button onclick=\"setAutomatic()\" class=\"right-button\"><i class=\"fa-solid fa-robot\"></i> Auto</button>\n        </div>\n    </div>\n    <div id=\"opt\">\n        <button onclick=\"setSweetgrass()\" class=\"multi-btn\"><span>Braiding Sweetgrass for Young Adults</span> <small>Robin Wall Kimmerer</small></button>\n    </div>\n</div>\n\n<div id=\"authors\">\n    <h3>Authors</h3>\n    <div id=\"authorsList\"></div>\n    <button onclick=\"addAuthor()\">Add Author</button>\n</div>\n\n<div id=\"title\">\n    <h3>Title</h3>\n    <input type=\"text\" id=\"titleInput\" placeholder=\"Work title\">\n</div>\n\n<div id=\"containerDiv\" style=\"display: none;\">\n    <h3>Container (Journal/Website)</h3>\n    <input type=\"text\" id=\"containerInput\" placeholder=\"Container title\">\n</div>\n\n<div id=\"otherContributors\" style=\"display: none;\">\n    <h3>Other Contributors</h3>\n    <div id=\"contributorsList\"></div>\n    <button onclick=\"addContributor()\">Add Contributor</button>\n</div>\n\n<div id=\"version\" style=\"display: none;\">\n    <h3>Version</h3>\n    <input type=\"text\" id=\"versionInput\" placeholder=\"Version\">\n</div>\n\n<div id=\"number\" style=\"display: none;\">\n    <h3>Number</h3>\n    <input type=\"text\" id=\"numberInput\" placeholder=\"Volume/issue number\">\n</div>\n\n<div id=\"publisher\">\n    <h3>Publisher</h3>\n    <input type=\"text\" id=\"publisherInput\" placeholder=\"Publisher\">\n</div>\n\n<div id=\"publicationDate\">\n    <h3>Publication Date</h3>\n    <input type=\"text\" id=\"publicationDateInput\" placeholder=\"Publication date\">\n</div>\n\n<div id=\"location\" style=\"display: none;\">\n    <h3>Location</h3>\n    <input type=\"text\" id=\"locationInput\" placeholder=\"Page numbers or URL\">\n</div>\n\n<div id=\"accessDate\" style=\"display: none;\">\n    <h3>Access Date</h3>\n    <input type=\"text\" id=\"accessDateInput\" placeholder=\"Access date\">\n</div>\n\n<div id=\"generate\">\n    <h3>Generate MLA 8 Cit.</h3>\n    <button>Generate</button>\n    <div class=\"faketextarea\" id=\"result\"></div>\n    <div class=\"copy-button-no-format\"><i class=\"fa-solid fa-clone\"></i> Copy without Formatting</div>\n    <div class=\"copy-button\"><i class=\"fa-solid fa-copy\"></i> Copy with Formatting (for Google Docs)</div>\n</div>\n</div>",
  "settings": {
    "cssImports": [],
    "jsImports": [],
    "color": "#6955c6",
    "borderWidth": 1,
    "title": "HilgerCIT | Citation Maker",
    "shareCodeWithBrainbase": false
  }
}